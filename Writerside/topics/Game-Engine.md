# Игровой Движок
---------------------------

## Базовые сущности

### Виджет Game

`Game` - это основной компонент, отвечающий за отображение игрового поля и обработку пользовательского ввода.

#### Состояние
- `gameState`: Состояние игры (e.g., `GAME_STATE.GAME_OVER`, `GAME_STATE.RUNNING`, `GAME_STATE.PAUSED`).

#### Методы
- `onGameOver`: Метод, вызываемый при завершении игры.

#### Рефы
- `canvasRef`: Ссылка на элемент <canvas>, используемый для отображения игрового поля.

#### Хуки
- `useGame`: Пользовательский хук, обеспечивающий логику игры.

#### Рендеринг
- `StartScreen`: Компонент, отображающий стартовый экран игры.
- `Canvas`: Компонент, отвечающий за отрисовку игрового поля.
- `Button`: Кнопка для паузы/продолжения игры.

#### Обработка событий
- Обработка событий клавиатуры для управления движением змеи.

### Игровая логика useGame.ts

#### Хук useGame
`useGame` - это пользовательский хук, который предоставляет функциональность для управления логикой игры.

#### Параметры
- `width`: Ширина игрового поля.
- `height`: Высота игрового поля.
- `onGameOver`: Callback-функция, вызываемая при завершении игры.
- `gameState`: Текущее состояние игры.
- `setGameState`: Метод для изменения состояния игры.

#### Состояние
- `bodyLocked`: Состояние блокировки страницы, если меняется состояние игры (PAUSED / RUNNING);
- `dir`: Направление движения змеи.
- `snakeBody`: Массив координат тела змеи.
- `foodPos`: Координаты еды на игровом поле.

#### Методы
- `onSnakeMove`: Обработка событий клавиатуры для управления движением змеи.
- `moveSnake`: Логика обновления положения змеи.
- `resetGameState`: Сброс состояния игры.

#### Эффекты
- `useInterval`: Обновление состояния змеи с заданной периодичностью.
- `useEffect`: Обновление координат еды и тела змеи при изменении размеров игрового поля или состояния игры.